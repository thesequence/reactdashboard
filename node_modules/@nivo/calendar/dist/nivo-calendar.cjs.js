"use strict";var e=require("@nivo/core"),t=require("@nivo/legends"),o=require("react"),n=require("react/jsx-runtime"),r=require("@nivo/tooltip"),i=require("d3-time-format"),a=require("d3-scale"),d=require("lodash"),l=require("d3-time");function s(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(o){if("default"!==o){var n=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,n.get?n:{enumerable:!0,get:function(){return e[o]}})}})),t.default=e,Object.freeze(t)}var c=s(o);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},u.apply(this,arguments)}function h(e,t){if(null==e)return{};var o,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)o=i[n],t.indexOf(o)>=0||(r[o]=e[o]);return r}var m,g=o.memo((function(e){var t=e.years,o=e.legend,r=e.theme;return n.jsx(n.Fragment,{children:t.map((function(e){return n.jsx("text",{transform:"translate("+e.x+","+e.y+") rotate("+e.rotation+")",textAnchor:"middle",style:r.labels.text,children:o(e.year)},e.year)}))})})),f=o.memo((function(e){var t=e.path,o=e.borderWidth,r=e.borderColor;return n.jsx("path",{d:t,style:{fill:"none",strokeWidth:o,stroke:r,pointerEvents:"none"}})})),v=o.memo((function(e){var t=e.months,o=e.legend,r=e.theme;return n.jsx(n.Fragment,{children:t.map((function(e){return n.jsx("text",{transform:"translate("+e.x+","+e.y+") rotate("+e.rotation+")",textAnchor:"middle",style:r.labels.text,children:o(e.year,e.month,e.date)},e.date.toString()+".legend")}))})})),y=o.memo((function(e){var t=e.data,i=e.x,a=e.y,d=e.size,l=e.color,s=e.borderWidth,h=e.borderColor,m=e.isInteractive,g=e.tooltip,f=e.onMouseEnter,v=e.onMouseMove,y=e.onMouseLeave,p=e.onClick,x=e.formatValue,b=r.useTooltip(),S=b.showTooltipFromEvent,W=b.hideTooltip,w=o.useCallback((function(e){if("value"in t){var o=u({},t,{value:x(t.value),data:u({},t.data)});S(c.createElement(g,u({},o)),e),null==f||f(t,e)}}),[S,g,t,f,x]),k=o.useCallback((function(e){if("value"in t){var o=u({},t,{value:x(t.value),data:u({},t.data)});S(c.createElement(g,u({},o)),e),v&&v(t,e)}}),[S,g,t,v,x]),C=o.useCallback((function(e){"value"in t&&(W(),null==y||y(t,e))}),[W,t,y]),L=o.useCallback((function(e){return null==p?void 0:p(t,e)}),[t,p]);return n.jsx("rect",{x:i,y:a,width:d,height:d,style:{fill:l,strokeWidth:s,stroke:h},onMouseEnter:m?w:void 0,onMouseMove:m?k:void 0,onMouseLeave:m?C:void 0,onClick:m?L:void 0})})),p=o.memo((function(e){var t=e.value,o=e.day,i=e.color;return void 0===t||isNaN(Number(t))?null:n.jsx(r.BasicTooltip,{id:o,value:t,color:i,enableChip:!0})})),x=i.timeFormat("%b"),b={colors:["#61cdbb","#97e3d5","#e8c1a0","#f47560"],align:"center",direction:"horizontal",emptyColor:"#fff",minValue:0,maxValue:"auto",yearSpacing:30,yearLegend:function(e){return e},yearLegendPosition:"before",yearLegendOffset:10,monthBorderWidth:2,monthBorderColor:"#000",monthSpacing:0,monthLegend:function(e,t,o){return x(o)},monthLegendPosition:"before",monthLegendOffset:10,daySpacing:0,dayBorderWidth:1,dayBorderColor:"#000",isInteractive:!0,legends:[],tooltip:p},S=u({},b,{role:"img"}),W=u({},b,{pixelRatio:"undefined"!=typeof window&&null!=(m=window.devicePixelRatio)?m:1}),w=u({},S,{dayBorderColor:"#fff",dayRadius:0,square:!0,weekdayLegendOffset:75,firstWeekday:"sunday"}),k=function(e,t,o){var n=e.map((function(e){return e.value}));return["auto"===t?Math.min.apply(Math,n):t,"auto"===o?Math.max.apply(Math,n):o]},C=d.memoize((function(e){var t,o=e.date,n=e.cellSize,r=e.yearIndex,i=e.yearSpacing,a=e.monthSpacing,d=e.daySpacing,s=e.direction,c=e.originX,u=e.originY,h=new Date(o.getFullYear(),o.getMonth()+1,0),m=l.timeWeek.count(l.timeYear(o),o),g=l.timeWeek.count(l.timeYear(h),h),f=o.getDay(),v=h.getDay(),y=c,p=u,x=r*(7*(n+d)+i),b=o.getMonth()*a;"horizontal"===s?(p+=x,y+=b):(p+=b,y+=x);var S={x:y,y:p,width:0,height:0};return"horizontal"===s?(t=["M"+(y+(m+1)*(n+d))+","+(p+f*(n+d)),"H"+(y+m*(n+d))+"V"+(p+7*(n+d)),"H"+(y+g*(n+d))+"V"+(p+(v+1)*(n+d)),"H"+(y+(g+1)*(n+d))+"V"+p,"H"+(y+(m+1)*(n+d))+"Z"].join(""),S.x=y+m*(n+d),S.width=y+(g+1)*(n+d)-S.x,S.height=7*(n+d)):(t=["M"+(y+f*(n+d))+","+(p+(m+1)*(n+d)),"H"+y+"V"+(p+(g+1)*(n+d)),"H"+(y+(v+1)*(n+d))+"V"+(p+g*(n+d)),"H"+(y+7*(n+d))+"V"+(p+m*(n+d)),"H"+(y+f*(n+d))+"Z"].join(""),S.y=p+m*(n+d),S.width=7*(n+d),S.height=p+(g+1)*(n+d)-S.y),{path:t,bbox:S}}),(function(e){var t=e.date,o=e.cellSize,n=e.yearIndex,r=e.yearSpacing,i=e.monthSpacing,a=e.daySpacing,d=e.direction,l=e.originX,s=e.originY;return t.toString()+"."+o+"."+n+"."+r+"."+i+"."+a+"."+d+"."+l+"."+s})),L=i.timeFormat("%Y-%m-%d"),M=function(t){var o,n=t.width,r=t.height,i=t.from,a=t.to,s=t.direction,c=t.yearSpacing,h=t.monthSpacing,m=t.daySpacing,g=t.align,f=d.isDate(i)?i:new Date(i),v=d.isDate(a)?a:new Date(a),y=d.range(f.getFullYear(),v.getFullYear()+1),p=Math.max.apply(Math,y.map((function(e){return l.timeWeeks(new Date(e,0,1),new Date(e+1,0,1)).length})))+1,x=function(e){var t,o,n=e.width,r=e.height,i=e.direction,a=e.yearRange,d=e.yearSpacing,l=e.monthSpacing,s=e.daySpacing,c=e.maxWeeks;return"horizontal"===i?(t=(n-12*l-s*c)/c,o=(r-(a.length-1)*d-a.length*(8*s))/(7*a.length)):(t=(n-(a.length-1)*d-a.length*(8*s))/(7*a.length),o=(r-12*l-s*c)/c),Math.min(t,o)}({width:n,height:r,direction:s,yearRange:y,yearSpacing:c,monthSpacing:h,daySpacing:m,maxWeeks:p}),b=x*p+m*p+12*h,S=7*(x+m)*y.length+c*(y.length-1),W="horizontal"===s?b:S,w="horizontal"===s?S:b,k=e.alignBox({x:0,y:0,width:W,height:w},{x:0,y:0,width:n,height:r},g),M=k[0],j=k[1];o="horizontal"===s?function(e,t,o,n){return function(r,i,a,d){return{x:r+l.timeWeek.count(l.timeYear(a),a)*(e+n)+n/2+a.getMonth()*o,y:i+a.getDay()*(e+n)+n/2+d*(t+7*(e+n))}}}(x,c,h,m):function(e,t,o,n){return function(r,i,a,d){var s=l.timeWeek.count(l.timeYear(a),a);return{x:r+a.getDay()*(e+n)+n/2+d*(t+7*(e+n)),y:i+s*(e+n)+n/2+a.getMonth()*o}}}(x,c,h,m);var D=[],O=[],V=[];return y.forEach((function(e,t){var n=new Date(e,0,1),r=new Date(e+1,0,1);V=V.concat(l.timeDays(n,r).map((function(e){return u({date:e,day:L(e),size:x},o(M,j,e,t))})));var i=l.timeMonths(n,r).map((function(e){return u({date:e,year:e.getFullYear(),month:e.getMonth()},C({originX:M,originY:j,date:e,direction:s,yearIndex:t,yearSpacing:c,monthSpacing:h,daySpacing:m,cellSize:x}))}));O=O.concat(i),D.push({year:e,bbox:{x:i[0].bbox.x,y:i[0].bbox.y,width:i[11].bbox.x-i[0].bbox.x+i[11].bbox.width,height:i[11].bbox.y-i[0].bbox.y+i[11].bbox.height}})})),{years:D,months:O,days:V,cellSize:x,calendarWidth:W,calendarHeight:w,originX:M,originY:j}},j=function(e){var t=e.days,o=e.data,n=e.colorScale,r=e.emptyColor;return t.map((function(e){var t=o.find((function(t){return t.day===e.day}));return u({},e,t?{color:n(t.value),data:t,value:t.value}:{color:r})}))},D=function(e){var t=e.years,o=e.direction,n=e.position,r=e.offset;return t.map((function(e){var t=0,i=0,a=0;return"horizontal"===o&&"before"===n?(t=e.bbox.x-r,i=e.bbox.y+e.bbox.height/2,a=-90):"horizontal"===o&&"after"===n?(t=e.bbox.x+e.bbox.width+r,i=e.bbox.y+e.bbox.height/2,a=-90):"vertical"===o&&"before"===n?(t=e.bbox.x+e.bbox.width/2,i=e.bbox.y-r):(t=e.bbox.x+e.bbox.width/2,i=e.bbox.y+e.bbox.height+r),u({},e,{x:t,y:i,rotation:a})}))},O=function(e){var t=e.months,o=e.direction,n=e.position,r=e.offset;return t.map((function(e){var t=0,i=0,a=0;return"horizontal"===o&&"before"===n?(t=e.bbox.x+e.bbox.width/2,i=e.bbox.y-r):"horizontal"===o&&"after"===n?(t=e.bbox.x+e.bbox.width/2,i=e.bbox.y+e.bbox.height+r):"vertical"===o&&"before"===n?(t=e.bbox.x-r,i=e.bbox.y+e.bbox.height/2,a=-90):(t=e.bbox.x+e.bbox.width+r,i=e.bbox.y+e.bbox.height/2,a=-90),u({},e,{x:t,y:i,rotation:a})}))},V=function(e){var t=e.width,n=e.height,r=e.from,i=e.to,a=e.direction,d=e.yearSpacing,l=e.monthSpacing,s=e.daySpacing,c=e.align;return o.useMemo((function(){return M({width:t,height:n,from:r,to:i,direction:a,yearSpacing:d,monthSpacing:l,daySpacing:s,align:c})}),[t,n,r,i,a,d,l,s,c])},z=function(e){var t=e.data,n=e.minValue,r=e.maxValue,i=e.colors,d=e.colorScale;return o.useMemo((function(){if(d)return d;var e=k(t,n,r);return a.scaleQuantize().domain(e).range(i)}),[t,n,r,i,d])},I=function(e){var t=e.years,n=e.direction,r=e.yearLegendPosition,i=e.yearLegendOffset;return o.useMemo((function(){return D({years:t,direction:n,position:r,offset:i})}),[t,n,r,i])},F=function(e){var t=e.months,n=e.direction,r=e.monthLegendPosition,i=e.monthLegendOffset;return o.useMemo((function(){return O({months:t,direction:n,position:r,offset:i})}),[t,n,r,i])},P=function(e){var t=e.days,n=e.data,r=e.colorScale,i=e.emptyColor;return o.useMemo((function(){return j({days:t,data:n,colorScale:r,emptyColor:i})}),[t,n,r,i])},E=["months","years"],R=["isInteractive","renderWrapper","theme"],T=function(o){var r=o.margin,i=o.width,a=o.height,d=o.align,l=void 0===d?S.align:d,s=o.colors,c=void 0===s?S.colors:s,m=o.colorScale,p=o.data,x=o.direction,b=void 0===x?S.direction:x,W=o.emptyColor,w=void 0===W?S.emptyColor:W,k=o.from,C=o.to,L=o.minValue,M=void 0===L?S.minValue:L,j=o.maxValue,D=void 0===j?S.maxValue:j,O=o.valueFormat,R=o.legendFormat,T=o.yearLegend,B=void 0===T?S.yearLegend:T,H=o.yearLegendOffset,Y=void 0===H?S.yearLegendOffset:H,q=o.yearLegendPosition,A=void 0===q?S.yearLegendPosition:q,X=o.yearSpacing,N=void 0===X?S.yearSpacing:X,Z=o.monthBorderColor,_=void 0===Z?S.monthBorderColor:Z,K=o.monthBorderWidth,Q=void 0===K?S.monthBorderWidth:K,G=o.monthLegend,J=void 0===G?S.monthLegend:G,U=o.monthLegendOffset,$=void 0===U?S.monthLegendOffset:U,ee=o.monthLegendPosition,te=void 0===ee?S.monthLegendPosition:ee,oe=o.monthSpacing,ne=void 0===oe?S.monthSpacing:oe,re=o.dayBorderColor,ie=void 0===re?S.dayBorderColor:re,ae=o.dayBorderWidth,de=void 0===ae?S.dayBorderWidth:ae,le=o.daySpacing,se=void 0===le?S.daySpacing:le,ce=o.isInteractive,ue=void 0===ce?S.isInteractive:ce,he=o.tooltip,me=void 0===he?S.tooltip:he,ge=o.onClick,fe=o.onMouseEnter,ve=o.onMouseLeave,ye=o.onMouseMove,pe=o.legends,xe=void 0===pe?S.legends:pe,be=o.role,Se=void 0===be?S.role:be,We=e.useTheme(),we=e.useDimensions(i,a,r),ke=we.margin,Ce=we.innerWidth,Le=we.innerHeight,Me=we.outerWidth,je=we.outerHeight,De=V({width:Ce,height:Le,from:k,to:C,direction:b,yearSpacing:N,monthSpacing:ne,daySpacing:se,align:l}),Oe=De.months,Ve=De.years,ze=h(De,E),Ie=z({data:p,minValue:M,maxValue:D,colors:c,colorScale:m}),Fe=F({months:Oe,direction:b,monthLegendPosition:te,monthLegendOffset:$}),Pe=I({years:Ve,direction:b,yearLegendPosition:A,yearLegendOffset:Y}),Ee=P({days:ze.days,data:p,colorScale:Ie,emptyColor:w}),Re=e.useValueFormatter(R),Te=e.useValueFormatter(O);return n.jsxs(e.SvgWrapper,{width:Me,height:je,margin:ke,role:Se,children:[Ee.map((function(e){return n.jsx(y,{data:e,x:e.x,y:e.y,size:e.size,color:e.color,borderWidth:de,borderColor:ie,onMouseEnter:fe,onMouseLeave:ve,onMouseMove:ye,isInteractive:ue,tooltip:me,onClick:ge,formatValue:Te},e.date.toString())})),Oe.map((function(e){return n.jsx(f,{path:e.path,borderWidth:Q,borderColor:_},e.date.toString())})),n.jsx(v,{months:Fe,legend:J,theme:We}),n.jsx(g,{years:Pe,legend:B,theme:We}),xe.map((function(e,o){var r=Ie.ticks(e.itemCount).map((function(e){return{id:e,label:Re(e),color:Ie(e)}}));return n.jsx(t.BoxLegendSvg,u({},e,{containerWidth:i,containerHeight:a,data:r}),o)}))]})},B=function(t){var o=t.isInteractive,r=void 0===o?S.isInteractive:o,i=t.renderWrapper,a=t.theme,d=h(t,R);return n.jsx(e.Container,{isInteractive:r,renderWrapper:i,theme:a,children:n.jsx(T,u({isInteractive:r},d))})},H=i.timeFormat("%Y-%m-%d"),Y=function(e){var t,o,n=e.direction,r=e.daySpacing,i=e.offset,a=e.square,d=e.totalDays,l=e.width,s=e.height;"horizontal"===n?(l-=i,t=7,o=Math.ceil(d/7)):(s-=i,o=7,t=Math.ceil(d/7));var c=(s-r*(t+1))/t,u=(l-r*(o+1))/o,h=Math.min(c,u);return{columns:o,rows:t,cellHeight:a?h:c,cellWidth:a?h:u}},q=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function A(e){return q.findIndex((function(t){return t.toLowerCase()===e}))}var X=function(e,t){var o=e.getDay()-A(t);return[0,1,2,3,4,5,6].slice(o)[0]};function N(e){var t=e.startDate,o=e.date,n=e.direction,r=e.firstWeekday,i=function(e){return[l.timeSunday,l.timeMonday,l.timeTuesday,l.timeWednesday,l.timeThursday,l.timeFriday,l.timeSaturday][A(e)]}(r),a=i.count(t,o),d=o.getMonth(),s=o.getFullYear(),c=0,u=0;return"horizontal"===n?(c=a,u=X(o,r)):(c=X(o,r),u=a),{currentColumn:c,year:s,currentRow:u,firstWeek:a,month:d,date:o}}var Z=function(e){var t=e.direction,o=e.colorScale,n=e.emptyColor,r=e.from,i=e.to,a=e.data,s=e.cellWidth,c=e.cellHeight,h=e.daySpacing,m=e.offset,g=e.firstWeekday,f=h,v=h;"horizontal"===t?f+=m:v+=m;var y=r||a[0].date,p=i||a[a.length-1].date,x=d.isDate(y)?y:new Date(y),b=d.isDate(p)?p:new Date(p);return l.timeDays(x,b).map((function(e){return{date:e,day:H(e)}})).map((function(e){var r=a.find((function(t){return t.day===e.day})),i=N({startDate:x,date:e.date,direction:t,firstWeekday:g}),d=i.currentColumn,l=i.currentRow,m=i.firstWeek,y=i.year,p=i.month,b=i.date,S={x:f+h*d+s*d,y:v+h*l+c*l};return r?u({},r,{coordinates:S,firstWeek:m,month:p,year:y,date:b,color:o(r.value),width:s,height:c}):u({},e,{coordinates:S,firstWeek:m,month:p,year:y,date:b,color:n,width:s,height:c})}))},_=function(e){var t=e.cellHeight,o=e.cellWidth,n=e.direction,r=e.daySpacing,i=e.ticks,a=void 0===i?[1,3,5]:i,d=e.firstWeekday,l=e.arrayOfWeekdays,s=void 0===l?function(e,t){if(!e.length||!t)return e;for(var o=0;o<t;o++){var n=e.shift();e.push(n)}return e}(q,A(d)):l,c=o+r,u=t+r;return a.map((function(e){return{value:s[e],rotation:"horizontal"===n?0:-90,y:"horizontal"===n?u*(e+1)-u/3:0,x:"horizontal"===n?0:c*(e+1)-c/3}}))},K=function(e){var t=e.direction,o=e.daySpacing,n=e.days,r=e.cellHeight,i=e.cellWidth;return n.reduce((function(e,n){if(e.weeks.length===n.firstWeek||!e.weeks.length&&1===n.firstWeek){e.weeks.push(n);var a=n.year+"-"+n.month;if(Object.keys(e.months).includes(a))"horizontal"===t?e.months[a].bbox.width=(n.firstWeek-e.months[a].firstWeek)*(i+o):e.months[a].bbox.height=(n.firstWeek-e.months[a].firstWeek)*(r+o);else{var d={x:0,y:0,width:0,height:0};"horizontal"===t?(d.x=n.coordinates.x-o,d.height=r+o,d.width=i+2*o):(d.y=n.coordinates.y-o,d.height=r+2*o,d.width=i+2*o),e.months[a]={date:n.date,bbox:d,firstWeek:n.firstWeek,month:0,year:0}}}return e}),{months:{},weeks:[]})},Q=function(e){var t,o,n=e.from,r=e.to,i=e.data;return t=n?d.isDate(n)?n:new Date(n):i[0].date,o=n&&r?d.isDate(r)?r:new Date(r):i[i.length-1].date,t.getDay()+l.timeDay.count(t,o)},G=o.memo((function(e){var t=e.data,i=e.x,a=e.ry,d=void 0===a?5:a,l=e.rx,s=void 0===l?5:l,c=e.y,h=e.width,m=e.height,g=e.color,f=e.borderWidth,v=e.borderColor,y=e.isInteractive,p=e.tooltip,x=e.onMouseEnter,b=e.onMouseMove,S=e.onMouseLeave,W=e.onClick,w=e.formatValue,k=r.useTooltip(),C=k.showTooltipFromEvent,L=k.hideTooltip,M=o.useCallback((function(e){if("value"in t){var n=u({},t,{value:w(t.value)});C(o.createElement(p,u({},n)),e),null==x||x(t,e)}}),[C,p,t,x,w]),j=o.useCallback((function(e){if("value"in t){var n=u({},t,{value:w(t.value)});C(o.createElement(p,u({},n)),e),null==b||b(t,e)}}),[C,p,t,b,w]),D=o.useCallback((function(e){"value"in t&&(L(),null==S||S(t,e))}),[L,t,S]),O=o.useCallback((function(e){return null==W?void 0:W(t,e)}),[t,W]);return n.jsx("rect",{x:i,y:c,rx:s,ry:d,width:h,height:m,style:{fill:g,strokeWidth:f,stroke:v},onMouseEnter:y?M:void 0,onMouseMove:y?j:void 0,onMouseLeave:y?D:void 0,onClick:y?O:void 0})})),J=["isInteractive","renderWrapper","theme"],U=function(r){var i=r.margin,a=r.width,d=r.height,l=r.square,s=void 0===l?w.square:l,c=r.colors,h=void 0===c?w.colors:c,m=r.colorScale,g=r.emptyColor,f=void 0===g?w.emptyColor:g,y=r.from,p=r.to,x=r.data,b=r.direction,S=void 0===b?w.direction:b,W=r.minValue,k=void 0===W?w.minValue:W,C=r.maxValue,L=void 0===C?w.maxValue:C,M=r.valueFormat,j=r.legendFormat,D=r.monthLegend,O=void 0===D?w.monthLegend:D,V=r.monthLegendOffset,I=void 0===V?w.monthLegendOffset:V,P=r.monthLegendPosition,E=void 0===P?w.monthLegendPosition:P,R=r.weekdayLegendOffset,T=void 0===R?w.weekdayLegendOffset:R,B=r.weekdayTicks,H=r.dayBorderColor,q=void 0===H?w.dayBorderColor:H,A=r.dayBorderWidth,X=void 0===A?w.dayBorderWidth:A,N=r.daySpacing,J=void 0===N?w.daySpacing:N,U=r.dayRadius,$=void 0===U?w.dayRadius:U,ee=r.isInteractive,te=void 0===ee?w.isInteractive:ee,oe=r.tooltip,ne=void 0===oe?w.tooltip:oe,re=r.onClick,ie=r.onMouseEnter,ae=r.onMouseLeave,de=r.onMouseMove,le=r.legends,se=void 0===le?w.legends:le,ce=r.role,ue=void 0===ce?w.role:ce,he=r.firstWeekday,me=void 0===he?w.firstWeekday:he,ge=e.useDimensions(a,d,i),fe=ge.margin,ve=ge.innerWidth,ye=ge.innerHeight,pe=ge.outerWidth,xe=ge.outerHeight,be=o.useMemo((function(){return x.map((function(e){return u({},e,{date:new Date(e.day+"T00:00:00")})})).sort((function(e,t){return e.day.localeCompare(t.day)}))}),[x]),Se=e.useTheme(),We=z({data:be,minValue:k,maxValue:L,colors:h,colorScale:m}),we=Q({from:y,to:p,data:be}),ke=Y({square:s,offset:T,totalDays:we,width:ve,height:ye,daySpacing:J,direction:S}),Ce=ke.cellHeight,Le=ke.cellWidth,Me=Z({offset:T,colorScale:We,emptyColor:f,cellHeight:Ce,cellWidth:Le,from:y,to:p,data:be,direction:S,daySpacing:J,firstWeekday:me}),je=Object.values(K({daySpacing:J,direction:S,cellHeight:Ce,cellWidth:Le,days:Me}).months),De=_({direction:S,cellHeight:Ce,cellWidth:Le,daySpacing:J,ticks:B,firstWeekday:me}),Oe=F({months:je,direction:S,monthLegendPosition:E,monthLegendOffset:I}),Ve=e.useValueFormatter(M),ze=e.useValueFormatter(j);return n.jsxs(e.SvgWrapper,{width:pe,height:xe,margin:fe,role:ue,children:[De.map((function(e){return n.jsx("text",{transform:"translate("+e.x+","+e.y+") rotate("+e.rotation+")",textAnchor:"left",style:Se.labels.text,children:e.value},e.value)})),Me.map((function(e){return n.jsx(G,{data:e,x:e.coordinates.x,rx:$,y:e.coordinates.y,ry:$,width:Le,height:Ce,color:e.color,borderWidth:X,borderColor:q,onMouseEnter:ie,onMouseLeave:ae,onMouseMove:de,isInteractive:te,tooltip:ne,onClick:re,formatValue:Ve},e.date.toString())})),n.jsx(v,{months:Oe,legend:O,theme:Se}),se.map((function(e,o){var r=We.ticks(e.itemCount).map((function(e){return{id:e,label:ze(e),color:We(e)}}));return n.jsx(t.BoxLegendSvg,u({},e,{containerWidth:a,containerHeight:d,data:r}),o)}))]})},$=function(t){var o=t.isInteractive,r=void 0===o?w.isInteractive:o,i=t.renderWrapper,a=t.theme,d=h(t,J);return n.jsx(e.Container,{isInteractive:r,renderWrapper:i,theme:a,children:n.jsx(U,u({isInteractive:r},d))})},ee=["months","years"],te=["isInteractive","renderWrapper","theme"],oe=function(t,o,n,r,i,a){var d=e.getRelativeCursor(o,t),l=d[0],s=d[1];return n.find((function(t){return"value"in t&&e.isCursorInRect(t.x+a.left-i/2,t.y+a.top-i/2,r+i,r+i,l,s)}))},ne=o.memo((function(i){var a=i.margin,d=i.width,l=i.height,s=i.pixelRatio,m=void 0===s?W.pixelRatio:s,g=i.align,f=void 0===g?W.align:g,v=i.colors,y=void 0===v?W.colors:v,p=i.colorScale,x=i.data,b=i.direction,S=void 0===b?W.direction:b,w=i.emptyColor,k=void 0===w?W.emptyColor:w,C=i.from,L=i.to,M=i.minValue,j=void 0===M?W.minValue:M,D=i.maxValue,O=void 0===D?W.maxValue:D,E=i.valueFormat,R=i.legendFormat,T=i.yearLegend,B=void 0===T?W.yearLegend:T,H=i.yearLegendOffset,Y=void 0===H?W.yearLegendOffset:H,q=i.yearLegendPosition,A=void 0===q?W.yearLegendPosition:q,X=i.yearSpacing,N=void 0===X?W.yearSpacing:X,Z=i.monthLegend,_=void 0===Z?W.monthLegend:Z,K=i.monthLegendOffset,Q=void 0===K?W.monthLegendOffset:K,G=i.monthLegendPosition,J=void 0===G?W.monthLegendPosition:G,U=i.monthSpacing,$=void 0===U?W.monthSpacing:U,te=i.dayBorderColor,ne=void 0===te?W.dayBorderColor:te,re=i.dayBorderWidth,ie=void 0===re?W.dayBorderWidth:re,ae=i.daySpacing,de=void 0===ae?W.daySpacing:ae,le=i.isInteractive,se=void 0===le?W.isInteractive:le,ce=i.tooltip,ue=void 0===ce?W.tooltip:ce,he=i.onClick,me=i.onMouseEnter,ge=i.onMouseLeave,fe=i.onMouseMove,ve=i.legends,ye=void 0===ve?W.legends:ve,pe=o.useRef(null),xe=e.useDimensions(d,l,a),be=xe.innerWidth,Se=xe.innerHeight,We=xe.outerWidth,we=xe.outerHeight,ke=xe.margin,Ce=V({width:be,height:Se,from:C,to:L,direction:S,yearSpacing:N,monthSpacing:$,daySpacing:de,align:f}),Le=Ce.months,Me=Ce.years,je=h(Ce,ee),De=z({data:x,minValue:j,maxValue:O,colors:y,colorScale:p}),Oe=F({months:Le,direction:S,monthLegendPosition:J,monthLegendOffset:Q}),Ve=I({years:Me,direction:S,yearLegendPosition:A,yearLegendOffset:Y}),ze=P({days:je.days,data:x,colorScale:De,emptyColor:k}),Ie=o.useState(null),Fe=Ie[0],Pe=Ie[1],Ee=e.useTheme(),Re=e.useValueFormatter(E),Te=e.useValueFormatter(R),Be=r.useTooltip(),He=Be.showTooltipFromEvent,Ye=Be.hideTooltip;o.useEffect((function(){var o;if(pe.current){pe.current.width=We*m,pe.current.height=we*m;var n=pe.current.getContext("2d");n&&(n.scale(m,m),n.fillStyle=Ee.background,n.fillRect(0,0,We,we),n.translate(ke.left,ke.top),ze.forEach((function(e){n.fillStyle=e.color,ie>0&&(n.strokeStyle=ne,n.lineWidth=ie),n.beginPath(),n.rect(e.x,e.y,e.size,e.size),n.fill(),ie>0&&n.stroke()})),n.textAlign="center",n.textBaseline="middle",n.fillStyle=null!=(o=Ee.labels.text.fill)?o:"",n.font=Ee.labels.text.fontSize+"px "+Ee.labels.text.fontFamily,Oe.forEach((function(t){n.save(),n.translate(t.x,t.y),n.rotate(e.degreesToRadians(t.rotation)),n.fillText(String(_(t.year,t.month,t.date)),0,0),n.restore()})),Ve.forEach((function(t){n.save(),n.translate(t.x,t.y),n.rotate(e.degreesToRadians(t.rotation)),n.fillText(String(B(t.year)),0,0),n.restore()})),ye.forEach((function(e){var o=De.ticks(e.itemCount).map((function(e){return{id:e,label:Te(e),color:De(e)}}));t.renderLegendToCanvas(n,u({},e,{data:o,containerWidth:be,containerHeight:Se,theme:Ee}))})))}}),[pe,Se,be,We,we,m,ke,ze,ne,ie,p,B,Ve,_,Oe,ye,Ee,Te,De]);var qe=o.useCallback((function(e){if(pe.current){var t=oe(e,pe.current,ze,ze[0].size,ie,ke);if(t){if(Pe(t),!("value"in t))return;var o=u({},t,{value:Re(t.value),data:u({},t.data)});He(c.createElement(ue,u({},o)),e),!Fe&&(null==me||me(t,e)),null==fe||fe(t,e),Fe&&(null==ge||ge(t,e))}else Ye(),t&&(null==ge||ge(t,e))}}),[pe,Fe,ke,ze,Pe,Re,ie,He,Ye,me,fe,ge,ue]),Ae=o.useCallback((function(){Pe(null),Ye()}),[Pe,Ye]),Xe=o.useCallback((function(e){if(he&&pe.current){var t=oe(e,pe.current,ze,ze[0].size,de,ke);t&&he(t,e)}}),[pe,de,ke,ze,he]);return n.jsx("canvas",{ref:pe,width:We*m,height:we*m,style:{width:We,height:we},onMouseEnter:se?qe:void 0,onMouseMove:se?qe:void 0,onMouseLeave:se?Ae:void 0,onClick:se?Xe:void 0})})),re=function(t){var o=t.isInteractive,r=void 0===o?W.isInteractive:o,i=t.renderWrapper,a=t.theme,d=h(t,te);return n.jsx(e.Container,{isInteractive:r,renderWrapper:i,theme:a,children:n.jsx(ne,u({isInteractive:r},d))})};exports.ARRAY_OF_WEEKDAYS=q,exports.Calendar=B,exports.CalendarCanvas=re,exports.ResponsiveCalendar=function(t){return n.jsx(e.ResponsiveWrapper,{children:function(e){var o=e.width,r=e.height;return n.jsx(B,u({width:o,height:r},t))}})},exports.ResponsiveCalendarCanvas=function(t){return n.jsx(e.ResponsiveWrapper,{children:function(e){var o=e.width,r=e.height;return n.jsx(re,u({width:o,height:r},t))}})},exports.ResponsiveTimeRange=function(t){return n.jsx(e.ResponsiveWrapper,{children:function(e){var o=e.width,r=e.height;return n.jsx($,u({width:o,height:r},t))}})},exports.TimeRange=$,exports.bindDaysData=j,exports.calendarCanvasDefaultProps=W,exports.calendarDefaultProps=S,exports.computeCellPositions=Z,exports.computeCellSize=Y,exports.computeDomain=k,exports.computeLayout=M,exports.computeMonthLegendPositions=O,exports.computeMonthLegends=K,exports.computeTotalDays=Q,exports.computeWeekdays=_,exports.computeYearLegendPositions=D,exports.getDayIndex=X,exports.getFirstWeekdayIndex=A,exports.timeRangeDefaultProps=w,exports.useCalendarLayout=V,exports.useColorScale=z,exports.useDays=P,exports.useMonthLegends=F,exports.useYearLegends=I;
//# sourceMappingURL=nivo-calendar.cjs.js.map
